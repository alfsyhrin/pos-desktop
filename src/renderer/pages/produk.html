<main class="main-wrapper">

  <header class="header-produk">
    <h2>APLIKASI PIPOS</h2>
    <p>Produk</p>
  </header>
  
  <div class="pencarian-tambah-produk">
    <div class="bar-pencarian-produk">
      <span class="material-symbols-outlined">search</span>
      <input type="text" placeholder="Cari produk...">
    </div>
    <a class="tambah-produk-btn" href="../pages/tambah-produk.html">
    <span class="material-symbols-outlined">add</span>Tambah Produk</a>
  </div>

  <div class="tools-produk">
    <div class="tools-button-produk">
      <button class="btn-active"  id="btn-wp2dw">WP2DW</button>
      <button id="btn-scan-camera">Scan Kamera</button>
    </div>
    <div class="dropdown">
      <input type="checkbox" id="dropdown-toggle" hidden>
  
      <label for="dropdown-toggle" class="dropdown-btn">
        Pilih Kategori
        <span class="arrow">â–¾</span>
      </label>
  
      <div class="dropdown-menu">
      </div>
    </div>
  </div>

    <!-- Modal pemilihan toko untuk owner (muncul jika store_id tidak ada) -->
  <div id="store-selector-modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); align-items:center; justify-content:center; z-index:9999;">
    <div style="background:var(--card-color); padding:20px; border-radius:8px; width:420px; max-height:70vh; overflow:auto;">
      <h3 style="margin-top:0; color:var(--foreground-color);">Pilih Toko</h3>
      <div id="store-list"></div>
      <div style="margin-top:12px; display:flex; gap:8px; justify-content:flex-end;">
        <button id="store-refresh" style="padding:8px 12px;">Refresh</button>
        <button id="store-cancel" style="padding:8px 12px;">Batal</button>
      </div>
    </div>
  </div>
  
  <div class="card-produk-wrapper">
    <div class="card-detail-produk">
      <span class="material-symbols-outlined" style="background-color: #e4363638;">view_in_ar</span>
      <div class="detail-produk-info" >
        <h5>Total Produk</h5>
        <p>4</p>
      </div>
    </div>
  
    <div class="card-detail-produk">
      <span class="material-symbols-outlined" style="color: #ff8036; background-color: #ff803636;">warning_amber</span>
      <div class="detail-produk-info">
        <h5>Stok Menipis</h5>
        <p>1</p>
      </div>
    </div>
  
    <div class="card-detail-produk">
      <span class="material-symbols-outlined" style="background-color: #10b98135; color: #10B981FF;">category</span>
      <div class="detail-produk-info">
        <h5>Kategori</h5>
        <p>3</p>
      </div>
    </div>
  </div>
  
  <div class="list-produk-container">
    <h3>Daftar Produk</h3>
    <div class="list-produk"></div>
  </div>
  <input type="text" id="scanner-input" style="position:absolute;left:-9999px;" autocomplete="off">
  <div id="toast" class="toast"></div>
  <div class="camera-container" id="camera-container" style="display:none;">
    <div id="camera-reader"></div>
    <div class="camera-controls" style="text-align:center;margin-top:10px;">
      <button class="btn btn-outline" id="btn-close-camera" type="button">
        <span class="material-symbols-outlined">close</span> Tutup Kamera
      </button>
    </div>
  </div>
</main>
<script src="../js/api.js"></script>
<script src="../js/produk.js"></script>